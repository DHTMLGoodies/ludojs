<?php
$pageTitle = 'Components using singleton HTML data-source';
require_once("includes/demo-header.php");
?>
<body>

<script type="text/javascript" class="source-code">
/** Custom dataSource class used by windows below */
ludo.dataSource.MySource = new Class({
    Extends: ludo.dataSource.HTML,
    type: 'dataSource.MySource',
    /** Register dataSource as singleton in order to have only one remote request */
    singleton:true,
    url : 'data-source/html-dataSource.php',
    query : {
        getHtml : 1
    }
});

var win1 = new ludo.Window({
    left : 60, top : 70,
    maxHeight:500,
    title : 'Window 1',
    dataSource : { type: 'dataSource.MySource' }
});

var win2 = new ludo.Window({
    left: 200, top:160,
    title : 'Window 2',
    dataSource : { type: 'dataSource.MySource' }
});


</script>
<a href="#" onclick="win1.getDataSource().load();return false">Reload dataSource </a> - win1.getDataSource().load()
</body>
</html>